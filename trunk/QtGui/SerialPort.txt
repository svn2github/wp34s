The serial port communication is optional. To compile without it, simply type 'make qt_gui_no_serial' in the wp34s trunk directory

This module uses the open-source project qextserialport to provide serial-port
communication with real WP-34s units.

See http://code.google.com/p/qextserialport/ for more information about this project.

It comes with precompiled libraries for Windows, Mac OSX & Linux. However, as these libraries where compiled
on specific platforms (Windows 7/MinGW, OSX Lion, Ubuntu 11.10/gcc-4.6), they may not work on your platform and are not suitable
because of a bug.

###########################################
IMPORTANT: at the time I write this, there is a bug in qextserialport preventing it to be used with the WP-34s emulator.
Line 762 of posix_qextserialport.cpp, flush is implemented as:

 tcflush(fd, TCIOFLUSH);
 
But tcflush clears the buffers without sending or receiving their contents. This lead to byte loss. 
This line must be replaced by:

 tcdrain(fd);
 
And qextserialport recompiled. This apply only to the Mac & Linux version  
###########################################

First, you'll have to make sure that the Mercurial, free source control management tool, is installed on your system.

Go to http://mercurial.selenic.com/ to download a version.


On Mac OSX & Linux, get the sources:

hg clone https://code.google.com/p/qextserialport

Then edit the src/src.pro qmake config file and make sure that the "CONFIG += staticlib" is uncommented.
run 'qmake' at the top level then make.

On Mac OSX, copy the src/build/libqextserialportd.a into the QtGui/serial/lib/Darwin directory 
and rename it to libqextserialport.a 

On Linux, copy the src/build/libqextserialport.a into the QtGui/serial/lib/Linux directory 


On Windows, you'll need a different set of sources as qextserialport does not goes well with recent versions
of Qt.

The project to use is:

http://code.google.com/r/dbzhang800-qextserialport/

and you must retrieve the sources with:

hg clone https://code.google.com/r/dbzhang800-qextserialport/

Then in the dbzhang800-qextserialport directory created by hg:

- copy config_example.pri to config.pri
- edit config.pri and uncomment the 'QEXTSERIALPORT_LIBRARY = yes' & 'QEXTSERIALPORT_STATIC = yes'
- run qmake
- run the appropriate make, usually the mingw32-make that comes with Qt

The enter the 'lib' subdirectory and copy 'libqextserialport-1.2d.a' into the QtGui/serial/windows32 directory.
Rename it to libqextserialport.a

---------------------- USAGE ----------------------
To use the serial port, simply enter the preferences dialog and select one. If it does not appear in the list, you can simply enter its name